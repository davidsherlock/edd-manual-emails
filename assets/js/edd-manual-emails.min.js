jQuery(document).ready(function($){$("#submit").val("Send"),$("#tab_container form").on("submit",function(e){e.preventDefault();var a=$('input[name="edd_settings[edd_manual_emails_subject]"]').val(),t=$('textarea[name="edd_settings[edd_manual_emails_to]"]').val().split("\n"),s=$('textarea[name="edd_settings[edd_manual_emails_content]"]').val(),n=$('input[name="edd_settings[edd_manual_emails_to_all_users]"]').is(":checked"),i=$('input[name="edd_settings[edd_manual_emails_to_all_vendors]"]').is(":checked");$("#edd-manual-emails-no-emails-error").remove(),$("#edd-manual-emails-ajax-response").remove(),""!=$('textarea[name="edd_settings[edd_manual_emails_to]"]').val().trim()&&t.length>0||n||i?$.ajax({url:ajaxurl,method:"post",data:{action:"edd_manual_emails_send",subject:a,to:t,content:s,to_all_users:n,to_all_vendors:i},success:function(e){var a=0;$.each(e,function(e,t){1==t&&a++});var s="",n="updated";a==t.length?s="Emails sent to all.":0==a?(s="Could not send email to anyone.",n="error"):(s="Emails sent to "+a+", but there are "+(t.length-a)+" emails that have not been sent.",n="error"),$('<div id="edd-manual-emails-ajax-response" class="'+n+' notice is-dismissible"><p><strong>'+s+'</strong></p><button type="button" class="notice-dismiss"><span class="screen-reader-text">Dismiss this notice.</span></button></div>').insertAfter(".wrap-emails h2.nav-tab-wrapper")}}):$('<div id="edd-manual-emails-no-emails-error" class="error notice is-dismissible"><p><strong>You need set at least one recipient to send the email.</strong></p><button type="button" class="notice-dismiss"><span class="screen-reader-text">Dismiss this notice.</span></button></div>').insertAfter(".wrap-emails h2.nav-tab-wrapper")})});